{
  "info": {
    "_postman_id": "dn-designs-api-collection",
    "name": "DN Designs API",
    "description": "Complete API collection for DN Designs backend - Authentication, Blog, Contact, and Email Management endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "dn-designs"
  },
  "item": [
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/health",
              "host": ["{{base_url}}"],
              "path": ["api", "health"]
            },
            "description": "Check if the server is running"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"auth_token\", response.token);",
                  "    pm.environment.set(\"user_id\", response.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"password\": \"password123\",\n    \"role\": \"user\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            },
            "description": "Register a new user account"
          },
          "response": []
        },
        {
          "name": "Register Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"admin_token\", response.token);",
                  "    pm.environment.set(\"admin_id\", response.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Admin User\",\n    \"email\": \"admin@dndesigns.co.in\",\n    \"password\": \"admin123456\",\n    \"role\": \"admin\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            },
            "description": "Register an admin user"
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"auth_token\", response.token);",
                  "    pm.environment.set(\"user_id\", response.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"john@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "Login with email and password"
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "me"]
            },
            "description": "Get current logged in user profile"
          },
          "response": []
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "name",
                  "value": "John Updated",
                  "type": "text"
                },
                {
                  "key": "email",
                  "value": "john.updated@example.com",
                  "type": "text"
                },
                {
                  "key": "avatar",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/auth/update-profile",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "update-profile"]
            },
            "description": "Update current user profile"
          },
          "response": []
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/users?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "users"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "role",
                  "value": "user",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "john",
                  "disabled": true
                }
              ]
            },
            "description": "Get all users (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "users", "{{user_id}}"]
            },
            "description": "Get user by ID (Admin only)"
          },
          "response": []
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "name",
                  "value": "Updated Name",
                  "type": "text"
                },
                {
                  "key": "role",
                  "value": "admin",
                  "type": "text"
                },
                {
                  "key": "isActive",
                  "value": "true",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/auth/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "users", "{{user_id}}"]
            },
            "description": "Update user (Admin only)"
          },
          "response": []
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "users", "{{user_id}}"]
            },
            "description": "Delete user (Admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Blog",
      "item": [
        {
          "name": "Get All Blogs",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/blogs?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "blogs"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "category",
                  "value": "Design",
                  "disabled": true
                },
                {
                  "key": "tags",
                  "value": "design,branding",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "logo",
                  "disabled": true
                }
              ]
            },
            "description": "Get all published blog posts (public endpoint)"
          },
          "response": []
        },
        {
          "name": "Get Blog by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/blogs/{{blog_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "blogs", "{{blog_id}}"]
            },
            "description": "Get blog post by ID or slug"
          },
          "response": []
        },
        {
          "name": "Create Blog",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"blog_id\", response.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "title",
                  "value": "How to Build a Strong Brand Identity",
                  "type": "text"
                },
                {
                  "key": "content",
                  "value": "Building a strong brand identity is crucial for any business. It helps you stand out from competitors and creates a memorable impression in the minds of your customers. In this comprehensive guide, we'll explore the key elements of brand identity and how to create one that resonates with your target audience.",
                  "type": "text"
                },
                {
                  "key": "excerpt",
                  "value": "Learn how to build a strong brand identity that resonates with your audience and sets you apart from competitors.",
                  "type": "text"
                },
                {
                  "key": "tags",
                  "value": "[\"branding\", \"design\", \"marketing\"]",
                  "type": "text"
                },
                {
                  "key": "category",
                  "value": "Branding",
                  "type": "text"
                },
                {
                  "key": "metaDescription",
                  "value": "Comprehensive guide on building a strong brand identity for your business",
                  "type": "text"
                },
                {
                  "key": "isPublished",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "featuredImage",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/blogs",
              "host": ["{{base_url}}"],
              "path": ["api", "blogs"]
            },
            "description": "Create a new blog post (Admin only)"
          },
          "response": []
        },
        {
          "name": "Update Blog",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "title",
                  "value": "Updated Blog Title",
                  "type": "text"
                },
                {
                  "key": "content",
                  "value": "Updated blog content...",
                  "type": "text"
                },
                {
                  "key": "isPublished",
                  "value": "true",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/blogs/{{blog_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "blogs", "{{blog_id}}"]
            },
            "description": "Update blog post (Admin only)"
          },
          "response": []
        },
        {
          "name": "Delete Blog",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/blogs/{{blog_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "blogs", "{{blog_id}}"]
            },
            "description": "Delete blog post (Admin only)"
          },
          "response": []
        },
        {
          "name": "Add Images to Blog",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "images",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "images",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/blogs/{{blog_id}}/images",
              "host": ["{{base_url}}"],
              "path": ["api", "blogs", "{{blog_id}}", "images"]
            },
            "description": "Add multiple images to blog post (Admin only)"
          },
          "response": []
        },
        {
          "name": "Delete Image from Blog",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/blogs/{{blog_id}}/images/{{image_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "blogs", "{{blog_id}}", "images", "{{image_id}}"]
            },
            "description": "Delete image from blog post (Admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Contact",
      "item": [
        {
          "name": "Submit Contact Form",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"contact_id\", response.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Jane Doe\",\n    \"email\": \"jane@example.com\",\n    \"mobile\": \"+1234567890\",\n    \"message\": \"I'm interested in your branding services. Please contact me.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/contact",
              "host": ["{{base_url}}"],
              "path": ["api", "contact"]
            },
            "description": "Submit contact form (Public endpoint)"
          },
          "response": []
        },
        {
          "name": "Get All Contacts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/contact?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "contact"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "new",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "jane",
                  "disabled": true
                }
              ]
            },
            "description": "Get all contact submissions (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get Contact by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/contact/{{contact_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "contact", "{{contact_id}}"]
            },
            "description": "Get contact submission by ID (Admin only)"
          },
          "response": []
        },
        {
          "name": "Update Contact",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"status\": \"replied\",\n    \"adminNotes\": \"Customer responded positively. Follow up scheduled.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/contact/{{contact_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "contact", "{{contact_id}}"]
            },
            "description": "Update contact submission status (Admin only)"
          },
          "response": []
        },
        {
          "name": "Delete Contact",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/contact/{{contact_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "contact", "{{contact_id}}"]
            },
            "description": "Delete contact submission (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get Contact Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/contact/stats/summary",
              "host": ["{{base_url}}"],
              "path": ["api", "contact", "stats", "summary"]
            },
            "description": "Get contact form statistics (Admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Email Management",
      "item": [
        {
          "name": "Get All Email Groups",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/emails?type=dn-team&isActive=true",
              "host": ["{{base_url}}"],
              "path": ["api", "emails"],
              "query": [
                {
                  "key": "type",
                  "value": "dn-team",
                  "disabled": true
                },
                {
                  "key": "isActive",
                  "value": "true",
                  "disabled": true
                }
              ]
            },
            "description": "Get all email groups (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Active Emails",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/emails/all",
              "host": ["{{base_url}}"],
              "path": ["api", "emails", "all"]
            },
            "description": "Get all active email addresses (flattened list) (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get Email Group by ID or Type",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"email_id\", response.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/emails/dn-team",
              "host": ["{{base_url}}"],
              "path": ["api", "emails", "dn-team"]
            },
            "description": "Get email group by ID or type (Admin only)"
          },
          "response": []
        },
        {
          "name": "Create Email Group",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"email_id\", response.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"type\": \"dn-team\",\n    \"emails\": [\n        \"team1@dndesigns.co.in\",\n        \"team2@dndesigns.co.in\"\n    ],\n    \"description\": \"DN Team email group\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/emails",
              "host": ["{{base_url}}"],
              "path": ["api", "emails"]
            },
            "description": "Create new email group (Admin only). Type must be unique."
          },
          "response": []
        },
        {
          "name": "Update Email Group",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"emails\": [\n        \"team1@dndesigns.co.in\",\n        \"team2@dndesigns.co.in\",\n        \"team3@dndesigns.co.in\"\n    ],\n    \"description\": \"Updated DN Team email group\",\n    \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/emails/{{email_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "emails", "{{email_id}}"]
            },
            "description": "Update email group (Admin only)"
          },
          "response": []
        },
        {
          "name": "Delete Email Group",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/emails/{{email_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "emails", "{{email_id}}"]
            },
            "description": "Delete email group (Admin only)"
          },
          "response": []
        },
        {
          "name": "Add Email to Group",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"newmember@dndesigns.co.in\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/emails/dn-team/add",
              "host": ["{{base_url}}"],
              "path": ["api", "emails", "dn-team", "add"]
            },
            "description": "Add email to a group (Admin only)"
          },
          "response": []
        },
        {
          "name": "Remove Email from Group",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"oldmember@dndesigns.co.in\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/emails/dn-team/remove",
              "host": ["{{base_url}}"],
              "path": ["api", "emails", "dn-team", "remove"]
            },
            "description": "Remove email from a group (Admin only)"
          },
          "response": []
        },
        {
          "name": "Send Promotional Email to Group",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"subject\": \"Special Offer - 50% Off!\",\n    \"content\": \"<h1>Special Promotion</h1><p>Get 50% off on all services this month! Visit our website for more details.</p><a href=\\\"https://dndesigns.co.in\\\">Visit Now</a>\",\n    \"isHtml\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/emails/dn-team/send",
              "host": ["{{base_url}}"],
              "path": ["api", "emails", "dn-team", "send"]
            },
            "description": "Send promotional/advertisement email to all emails in a group (Admin only). Content can be HTML or plain text."
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "blog_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "contact_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "email_id",
      "value": "",
      "type": "string"
    }
  ]
}
